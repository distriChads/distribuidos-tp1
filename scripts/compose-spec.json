{
    "name": "tp1",
    "services": [
        {
            "name": "client-handler",
            "log_level": "info",
            "replicas": 1,
            "input_routing_keys": ["*.results"],
            "output_routing_keys": ["movies.client_handler_output", "ratings.joiner.router", "credits.joiner.router"],
            "listen_backlog": 5
        },
        {
            "name": "filter-argentina",
            "replicas": 3,
            "log_level": "info",
            "input_routing_keys": ["movies.client_handler"],
            "output_routing_keys": ["movies.argentina"]
        },
        {
            "name": "filter-spain-2000",
            "replicas": 3,
            "log_level": "info",
            "input_routing_keys": ["movies.argentina"],
            "output_routing_keys": ["query1.results"]
        },
        {
            "name": "filter-only-one-country",
            "replicas": 3,
            "log_level": "info",
            "input_routing_keys": ["movies.client_handler"],
            "output_routing_keys": ["movies.filter_only_one_country"]
        },
        {
            "name": "filter-after-2000",
            "replicas": 3,
            "log_level": "info",
            "input_routing_keys": ["movies.argentina"],
            "output_routing_keys": ["movies.after_2000"]
        },
        {
            "name": "group-by-country-sum",
            "replicas": 3,
            "log_level": "info",
            "input_routing_keys": ["country_sum.router"],
            "output_routing_keys": ["movies.group_by_country_sum"]
        },
        {
            "name": "group-by-movie-average",
            "replicas": 3,
            "log_level": "info",
            "input_routing_keys": ["movie_average.router"],
            "output_routing_keys": ["movies.group_by_movie_average"]
        },
        {
            "name": "group-by-actor-count",
            "replicas": 3,
            "log_level": "info",
            "input_routing_keys": ["actor_count.router"],
            "output_routing_keys": ["movies.group_by_actor_count"]
        },
        {
            "name": "group-by-overview-average",
            "replicas": 3,
            "log_level": "info",
            "input_routing_keys": ["overview_average.router"],
            "output_routing_keys": ["movies.group_by_overview_average"]
        },
        {
            "name": "master-group-by-country-sum",
            "replicas": 1,
            "log_level": "info",
            "input_routing_keys": ["movies.group_by_country_sum"],
            "output_routing_keys": ["master.country_sum"]
        },
        {
            "name": "master-group-by-movie-average",
            "replicas": 1,
            "log_level": "info",
            "input_routing_keys": ["movies.group_by_movie_average"],
            "output_routing_keys": ["master.movie_average"]
        },
        {
            "name": "master-group-by-actor-count",
            "replicas": 1,
            "log_level": "info",
            "input_routing_keys": ["movies.group_by_actor_count"],
            "output_routing_keys": ["master.actor_count"]
        },
        {
            "name": "master-group-by-overview-average",
            "replicas": 1,
            "log_level": "info",
            "input_routing_keys": ["movies.group_by_overview_average"],
            "output_routing_keys": ["query5.results"]
        },
        {
            "name": "machine-learning",
            "replicas": 3,
            "log_level": "info",
            "input_routing_keys": ["movies.client_handler"],
            "output_routing_keys": ["movies.machine_learning"]
        },
        {
            "name": "top-five-country-budget",
            "replicas": 1,
            "log_level": "info",
            "input_routing_keys": ["master.country_sum"],
            "output_routing_keys": ["query2.results"]
        },
        {
            "name": "top-ten-cast-movie",
            "replicas": 1,
            "log_level": "info",
            "input_routing_keys": ["master.actor_count"],
            "output_routing_keys": ["query4.results"]
        },
        {
            "name": "join-movie-ratings",
            "replicas": 3,
            "log_level": "info",
            "input_routing_keys": ["movies.joiner.router", "ratings.joiner.router"],
            "output_routing_keys": ["join_movie_ratings"]
        },
        {
            "name": "join-movie-credits",
            "replicas": 3,
            "log_level": "info",
            "input_routing_keys": ["movies.joiner.router", "credits.joiner.router"],
            "output_routing_keys": ["join_movie_credits"]
        },
        {
            "name": "first-and-last",
            "replicas": 1,
            "log_level": "info",
            "input_routing_keys": ["master.movie_average"],
            "output_routing_keys": ["query3.results"]
        },
        {
            "name": "router",
            "replicas": 3,
            "log_level": "info",
            "input_routing_keys": ["movies.after_2000", "ratings.joiner.router", "credits.joiner.router", "movies.filter_only_one_country", "movies.machine_learning", "join_movie_ratings", "join_movie_credits"]
        }
    ]
}